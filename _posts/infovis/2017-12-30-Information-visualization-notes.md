---

layout: archive
title:  "Information_visualization_notes(简要介绍tableau图标类型及其用法，通过地理信息数据补充让读者充分了解在tableau中地图的使用规范)"
date:   2017-12-28 23:45:15 +0800
header:
 teaser: /assets//images/data3.png
categories: posts infovis
tags: infovis

---
1. 数据可视化课堂笔记(简要介绍tableau图标类型及其用法，通过地理信息数据补充让读者充分了解在tableau中地图的使用规范)

1.1可视化图表类型

1.1.1 地图

无论是邮政编码、州简称、国名，还是自定义地理编码，有任意一种位置数据的情况下，您都需要在地图上查看数据。

1.1.2 条形图

条形图位居最常见数据可视化方式之列。利用条形图，可迅速做出比较，一目了然地揭示高低点。如果数值数据能够顺畅归入不同类别，那么条形图就尤为有效，便于您快速看清数据中显示的趋势。

1.1.3 折线图

查看数据中随时间推移的趋势。例如：五年期的股价变化、一个月内的网页查看数、逐季收入增长情况。

1.1.4 线形图

1.1.5 饼图（最多不要超过6块）

饼图用来显示信息的相对比率（或百分率）。但饼图往往遭到无节制的滥用，置这一建议的限定情境于不顾。结果就是，饼图是误用最多的图表类型。

1.1.6 复合图 

1.1.7 树形图

是否希望一目了然看清您的数据，发现不同部分与整体的关系？那么，树形图就非常适合您。这些图表使用一系列的矩形，嵌套在其他矩形内，以相对于整体的比例显示分层数据

1.1.8 突出显示表

突出显示表让热点图更进一步。除了用色彩显示数据的交叉情况外，突出显示表还在上方添加数字，提供更多详细信息

1.1.9 热点图

热点图是使用色彩跨两个类别比较数据的理想方式。作用是快速看清两个类别的交集哪里最强，哪里最弱。

1.1.10 靶心图

设定了目标并希望参照目标跟踪进展时，靶心图就是理想之选。就其核心而言 ，靶心图是另一种形式的条形图。其设计宗旨是替代仪表板量具、仪表和温度计，因为这些图像一般不能显示足够的信息，并且需要占用宝贵的仪表板空间。

1.1.11 散点图

散布图是大概了解趋势、集中度、极端数值的有效方式，可指导您应该进一步把考察工作着重在哪一方面。

1.1.12 气泡图

气泡图不是自成一类的可视化，而应视为强调散布图或地图上数据的手段。我们使用气泡图的原因是圆圈的不同大小揭示数据的意义。

1.1.13 甘特图

甘特图对于说明项目各元素的起始与终止日期效果非常好，清楚看到需要完成的内容和截止时间对于项目的成功非常关键。



1.1.14 箱线图

箱形图又称盒须图，是显示数据分布情况的重要方式。其名称显示这种图的两个部分：盒，包含数据的中位数，以及第 1 和第 3 个四分位数（比中位数分别大、小 25%）；须，一般代表四分位距 1.5 倍以内的数据（第 1 和第 3 个四分位数之间的差）。“须”也可用来显示数据内的最高和最低点。

1.1.15 直方图

希望查看数据的跨组分布情况时使用直方图。举例来说，您有 100 只南瓜，希望了解有多少只是 2 磅或以下，多少只 3 到 5 磅，多少只 6 到 10 磅等等。把数据分组到这些类别中，然后使用直条形沿一根轴标绘，就能看到南瓜的重量分布情况。在以上过程中，直方图也就创建了出来。

2. 数据可视化应用到web项目中
将视图嵌入网页：
可以将交互式 Tableau 视图嵌入到网页、博客、wiki 页面、Web 应用程序和 Intranet 门户中。嵌入式视图会随着基础数据的变化或工作簿在 Tableau Server 上的更新而更新。嵌入的视图遵守 Tableau Server 上使用的相同许可和权限限制。也就是说，若要查看嵌入在网页中的 Tableau 视图，访问视图的用户也必须在 Tableau Server 上具有帐户。 作为替代方案，如果您有基于内核的许可证，您可以选择“启用来宾账户”，这样用户无需登录就能加载视图。
 
> 可以按照以下方式嵌入视图：
使用共享嵌入代码：每个视图顶部的共享链接提供了您可以复制和粘贴到网页中的嵌入代码。
编写自己的嵌入代码：您可以增强 Tableau 提供的嵌入代码，或者生成自己的代码。无论采用哪种方式，都可以使用那些用于控制工具栏、选项卡等的参数。
使用 Tableau JavaScript API： 您可以在自己的 Web 应用程序代码中使用 Tableau JavaScript 对象。
Tableau JavaScript API可以使web应用嵌入工作表和仪表盘以进行访问交互，而不是直接连接Tableau server。

3. Tableau地理信息补录
tableau有个特性：它里的国家，省，市，县指的是层级，和中国的实际地理边界或行政划分并不十分相符。
实际上，tableau中“县”这个“层级”的地理角色，包含唐山市、滦县、迁安市等。基本上是最详细一层的地理角色，当然也包括上一级地理角色，如“唐山市”，并非只包括县。如果tableau中地理信息不全，可以通过以下方法导入:
 
```
country	state	city	latitude	longitude
中国	辽宁	阜新	42.01	121.39
中国	安徽	六安	31.44	116.28
中国	甘肃	庆阳	36	107
中国	甘肃	酒泉	39.44	98.31
中国	贵州	贵阳	26.35	106.42
中国	河南	济源	35.04	112.35
中国	湖南	邵阳	27.14	111.28
中国	湖南	永州	26.13	111.37
中国	吉林	松原	45.11	124.49
中国	吉林	通化	41.43	125.56
中国	辽宁	葫芦岛	40.45	120.51
中国	辽宁	锦州	41.07	121.09
中国	辽宁	盘锦	41.07	122.03
中国	内蒙古	乌兰察布	39.37	109.16
中国	内蒙古	兴安盟	45	121
中国	内蒙古	巴彦淖尔	41	107
中国	内蒙古	鄂尔多斯	39	108
中国	内蒙古	阿拉善盟	39	100
中国	山东	滨州	37.22	118.02
中国	山西	晋中	37	113
中国	山西	吕梁	37	111
中国	陕西	宝鸡	34.22	107.09
中国	陕西	延安	36.35	109.28
中国	新疆	克拉玛依	45.36	84.51
中国	新疆	巴音郭楞	40	90
中国	新疆	伊犁	40.14	80.9
中国	云南	普洱	23	100
中国	山西	朔州	112.26	39.19
```


4. Tableau desktop发布

可将数据视图发布到Tableau   Server。发布工作簿时，您可以将其添加到服务器项目，隐藏某些工作表，添加标记以增强可搜索性，指定权限以控制对服务器上工作簿的访问，以及选择嵌入数据库密码以便在 Web 上进行自动身份验证。
如果工作簿所连接的数据源需要用户名和密码，则在默认情况下，在服务器上查看该工作簿的人员也会看到要求提供用户名和密码的提示。不过，作为工作簿作者， 您可以选择提供在服务器上打开视图时始终使用的数据库用户名和密码。登录信息不对服务器用户公开；服务器用户仅仅是自动登录以便能查看视图。 
> 选择要嵌入密码的连接，然后选择身份验证类型。根据数据源，将会提供以下一个或多个选项： 
提示用户 — 提示访问 Tableau Server 的用户输入其数据库用户名和密码。 
嵌入式密码 — 当 Tableau Server 用户加载视图时，您的当前用户名和密码将用于自动对用户进行身份验证。 
服务器运行身份帐户 — 当 Tableau Server 用户加载视图时，服务器运行身份帐户将用于自动对用户进行身份验证。服务器运行身份帐户是由您的 Tableau Server 系统管理员配置的。 
通过服务器运行身份帐户进行模拟 — 代表访问视图的 Tableau Server 用户来使用 Tableau Server 运行身份帐户。此选项仅可用于已针对模拟进行配置的 Microsoft SQL Server 数据源。请参见 Tableau Server 联机帮助的“参考”部分。 
通过嵌入式密码进行模拟 — 当 Tableau Server 用户加载视图时，您的用户名和密码将用于对其进行身份验证。Tableau Server 可在任何类型的帐户下运行，但它使用发布者提供的凭据连接到数据库。此选项仅可用于已针对模拟进行配置的 Microsoft SQL Server 数据源。请参见 Tableau Server 联机帮助的“参考”部分。 
您是否可以嵌入密码或进行模拟将由 Tableau Server 管理员来控制。管理员可以使用服务器“维护”页面上的“设置”来允许作者嵌入密码。